flowchart TD
    classDef methodClass fill:#d4f1f9,stroke:#05445E,stroke-width:1px,color:#05445E,font-weight:bold
    classDef supervisedClass fill:#d8f3dc,stroke:#1B4332,stroke-width:1px,color:#1B4332
    classDef unsupervisedClass fill:#fff1e6,stroke:#9E2A2B,stroke-width:1px,color:#9E2A2B
    classDef modelClass fill:#e9ecef,stroke:#343a40,stroke-width:1px,color:#343a40
    classDef titleClass font-weight:bold,font-size:12px
    
    Title["PHÁT HIỆN BẤT THƯỜNG TRONG DỮ LIỆU LƯU LƯỢNG NƯỚC"]:::titleClass
    
    Title --> Method1["1.Phát hiện bằng sai số"]:::methodClass
    Title --> Method2["2.Phát hiện bằng học không giám sát"]:::methodClass
    
    Method1 --> Models["Mô hình dự đoán<br>LSTM, GRU<br>Mô hình riêng/tổng hợp<br>Lưu lượng/Lưu lượng+áp suất"]:::supervisedClass
    
    Models --> Steps["Quy trình:<br>1.Dự đoán<br>2.Tính sai số<br>3.Tính σe<br>4.Ngưỡng δ = 3×σe<br>5.Phát hiện |et| > δ"]:::supervisedClass
    
    Method2 --> Algs["Thuật toán<br>Isolation Forest (IF)<br>Local Outlier Factor (LOF)<br>One-class SVM (OCSVM)"]:::unsupervisedClass
    
    Algs --> Principles["Nguyên lý:<br>IF: Cô lập điểm dễ dàng<br>LOF: Mật độ cục bộ khác biệt<br>OCSVM: Ranh giới bao quanh dữ liệu"]:::unsupervisedClass                